<?php 

/**
* 
*/
class Trans
{
	
	protected static $c2l_table = array (
		"А" => "A",
		"Б" => "B",
		"В" => "V",
		"Г" => "G",
		"Д" => "D",
		"Ђ" => "Đ",
		"Е" => "E",
		"Ж" => "Ž",
		"З" => "Z",
		"И" => "I",
		"Ј" => "J",
		"К" => "K",
		"Л" => "L",
		"Љ" => "LJ",
		"М" => "M",
		"Н" => "N",
		"Њ" => "NJ",
		"О" => "O",
		"П" => "P",
		"Р" => "R",
		"С" => "S",
		"Ш" => "Š",
		"Т" => "T",
		"Ћ" => "Ć",
		"У" => "U",
		"Ф" => "F",
		"Х" => "H",
		"Ц" => "C",
		"Ч" => "Č",
		"Џ" => "DŽ",
		"Ш" => "Š",

		"а" => "a",
		"б" => "b",
		"в" => "v",
		"г" => "g",
		"д" => "d",
		"ђ" => "đ",
		"е" => "e",
		"ж" => "ž",
		"з" => "z",
		"и" => "i",
		"ј" => "j",
		"к" => "k",
		"л" => "l",
		"љ" => "lj",
		"м" => "m",
		"н" => "n",
		"њ" => "nj",
		"о" => "o",
		"п" => "p",
		"р" => "r",
		"с" => "s",
		"ш" => "š",
		"т" => "t",
		"ћ" => "ć",
		"у" => "u",
		"ф" => "f",
		"х" => "h",
		"ц" => "c",
		"ч" => "č",
		"џ" => "dž",
		"ш" => "š",

		"Ња" => "Nja",
		"Ње" => "Nje",
		"Њи" => "Nji",
		"Њо" => "Njo",
		"Њу" => "Nju",
		"Ља" => "Lja",
		"Ље" => "Lje",
		"Љи" => "Lji",
		"Љо" => "Ljo",
		"Љу" => "Lju",
		"Џа" => "Dža",
		"Џе" => "Dže",
		"Џи" => "Dži",
		"Џо" => "Džo",
		"Џу" => "Džu",

		"Мајкрософт" => "Microsoft",
		"Мајкрософтов" => "Microsoft-ov",
		"Мајкрософтово" => "Microsoft-ovo",
		"Мајкрософтова" => "Microsoft-ova",
		"Мајкрософта" => "microsoft-a",
		"мајкрософтов" => "microsoft-ov",
		"мајкрософтово" => "microsoft-ovo",
		"мајкрософтова" => "microsoft-ova",
		"мајкрософта" => "microsoft-a",
		"ФоксПро" => "FoxPro",
		"Оракл" => "Oracle",
		"Ораклов" => "Oracle-ov",
		"Оракла" => "Oracle-a",
		"Ораклово" => "Oracle-ovo",
		"ораклов" => "oracle-ov",
		"оракла" => "oracle-a",
		"ораклово" => "oracle-ovo",
		"Виндоуз" => "Windows",
		"Линукс" => "Linux",
		"Веб" => "Web",
		"веб" => "web",
		"Гугл" => "Google",
		"гугл" => "google",
		"Гуглов" => "Google-ov",
		"Гуглово" => "Google-ovo",
		"Гугла" => "Google-a",
		"гуглов" => "google-ov",
		"гуглово" => "google-ovo",
		"гугла" => "google-a",
		"Јуникоду" => "Unicode-u",
		"плагин" => "plugin",
		"Плагин" => "Plugin",
		"Јуникоду" => "Unicode-u",
		"Ћирилица" => "Ћирилица",
		"Latinica" => "Latinica",
		"Форсквер" => "Foursquare",
		"форсквер" => "foursquare",
		"Фејсбук" => "Facebook",
		"фејсбук" => "facebook",
		"Вордпрес" => "Wordpress",
		"вордпрес" => "wordpress",
		"Џумла" => "Joomla",
		"џумла" => "joomla",
		"Твитер" => "Twitter",
		"твитер" => "twitter",
		"Јутјуб" => "Youtube",
		"јутјуб" => "youtube",
		"Мајспејс" => "Myspace",
		"мајспејс" => "myspace",
		"вајбер" => "viber",
		"Вајбер" => "Viber",
		"вацап" => "whatsapp",
		"Вацап" => "Whatsapp",
		"Танјуг" => "Tanjug",
		"танјуг" => "tanjug",
		"домен.срб" => "домен.срб"
	);

	protected static $c2ascii_table = array (
		"А" => "A",
		"Б" => "B",
		"В" => "V",
		"Г" => "G",
		"Д" => "D",
		"Ђ" => "DJ",
		"Е" => "E",
		"Ж" => "Z",
		"З" => "Z",
		"И" => "I",
		"Ј" => "J",
		"К" => "K",
		"Л" => "L",
		"Љ" => "LJ",
		"М" => "M",
		"Н" => "N",
		"Њ" => "NJ",
		"О" => "O",
		"П" => "P",
		"Р" => "R",
		"С" => "S",
		"Т" => "T",
		"Ћ" => "C",
		"У" => "U",
		"Ф" => "F",
		"Х" => "H",
		"Ц" => "C",
		"Ч" => "C",
		"Џ" => "DZ",
		"Ш" => "S",

		"а" => "a",
		"б" => "b",
		"в" => "v",
		"г" => "g",
		"д" => "d",
		"ђ" => "dj",
		"е" => "e",
		"ж" => "z",
		"з" => "z",
		"и" => "i",
		"ј" => "j",
		"к" => "k",
		"л" => "l",
		"љ" => "lj",
		"м" => "m",
		"н" => "n",
		"њ" => "nj",
		"о" => "o",
		"п" => "p",
		"р" => "r",
		"с" => "s",
		"т" => "t",
		"ћ" => "c",
		"у" => "u",
		"ф" => "f",
		"х" => "h",
		"ц" => "c",
		"ч" => "c",
		"џ" => "dz",
		"ш" => "s",

		"Ња" => "Nja",
		"Ње" => "Nje",
		"Њи" => "Nji",
		"Њо" => "Njo",
		"Њу" => "Nju",
		"Ља" => "Lja",
		"Ље" => "Lje",
		"Љи" => "Lji",
		"Љо" => "Ljo",
		"Љу" => "Lju",
		"Џа" => "Dza",
		"Џе" => "Dze",
		"Џи" => "Dzi",
		"Џо" => "Dzo",
		"Џу" => "Dzu",

		"Мајкрософт" => "Microsoft",
		"ФоксПро" => "FoxPro",
		"Оракл" => "Oracle",
		"Ораклов" => "Oracle-ov",
		"Оракла" => "Oracle-a",
		"Ораклово" => "Oracle-ovo",
		"ораклов" => "oracle-ov",
		"оракла" => "oracle-a",
		"ораклово" => "oracle-ovo",
		"Виндоуз" => "Windows",
		"Линукс" => "Linux",
		"Веб" => "Web",
		"веб" => "web",
		"Гугл" => "Google",
		"гугл" => "google",
		"Гуглов" => "Google-ov",
		"Гуглово" => "Google-ovo",
		"Гугла" => "Google-a",
		"гуглов" => "google-ov",
		"гуглово" => "google-ovo",
		"гугла" => "google-a",
		"Јуникоду" => "Unicode-u",
		"плагин" => "plugin",
		"Плагин" => "Plugin",
		"Јуникоду" => "Unicode-u",
		"Ћирилица" => "Ћирилица",
		"Latinica" => "Latinica",
		"Форсквер" => "Foursquare",
		"форсквер" => "foursquare",
		"Фејсбук" => "Facebook",
		"фејсбук" => "facebook",
		"Вордпрес" => "Wordpress",
		"вордпрес" => "wordpress",
		"Џумла" => "Joomla",
		"џумла" => "joomla",
		"Твитер" => "Twitter",
		"твитер" => "twitter",
		"Јутјуб" => "Youtube",
		"јутјуб" => "youtube",
		"Мајспејс" => "Myspace",
		"мајспејс" => "myspace",
		"Танјуг" => "Tanjug",
		"танјуг" => "tanjug",
		"домен.срб" => "домен.срб"

	);

	/*protected $weekday[0] = "Недеља";
	protected $weekday[1] = "Понедељак";
	protected $weekday[2] = "Уторак";
	protected $weekday[3] = "Среда";
	protected $weekday[4] = "Четвртак";
	protected $weekday[5] = "Петак";
	protected $weekday[6] = "Субота";

	protected $weekday_abbrev["Недеља"]    = "Нед";
	protected $weekday_abbrev["Понедељак"]    = "Пон";
	protected $weekday_abbrev["Уторак"]   = "Уто";
	protected $weekday_abbrev["Среда"] = "Сре";
	protected $weekday_abbrev["Четвртак"]  = "Чет";
	protected $weekday_abbrev["Петак"]    = "Пет";
	protected $weekday_abbrev["Субота"]  = "Суб";

	protected $month['01'] = "Јануар";
	protected $month['02'] = "Фебруар";
	protected $month['03'] = "Март";
	protected $month['04'] = "Април";
	protected $month['05'] = "Мај";
	protected $month['06'] = "Јун";
	protected $month['07'] = "Јул";
	protected $month['08'] = "Август";
	protected $month['09'] = "Септембар";
	protected $month['10'] = "Октобар";
	protected $month['11'] = "Новембар";
	protected $month['12'] = "Децембар";

	protected $month_abbrev["Јануар"] = "Јан";
	protected $month_abbrev["Фебруар"] = "Феб";
	protected $month_abbrev["Март"] = "Mar";
	protected $month_abbrev["Април"] = "Апр";
	protected $month_abbrev["Мај"] = "Мај";
	protected $month_abbrev["Јун"] = "Јун";
	protected $month_abbrev["Јул"] = "Јул";
	protected $month_abbrev["Август"] = "Авг";
	protected $month_abbrev["Септембар"] = "Сеп";
	protected $month_abbrev["Октобар"] = "Окт";
	protected $month_abbrev["Новембар"] = "Нов";
	protected $month_abbrev["Децембар"] = "Дец";*/


	public static function cir2lat ($text) {
		$out = strtr ($text, self::$c2l_table);
		return $out;
	}

	public static function cir2ascii ($text) {
		$out = strtr ($text, self::$c2ascii_table);
		return $out;
	}

	public static function lat2cir($text) {
		global $c2l_table;
		$out = strtr ($text, array_flip(self::$c2l_table));
		return $out;
	}

	public static function stripuj($s) {
		$s = stripslashes($s);
		$s = str_replace('"',"\"",$s);
		return $s;
	}

	public static function _t($text){
		if(Session::get('trans') != 'lat' && Session::get('trans') != 'cyr'){
			Session::put('trans', "lat");
		}
		if(Input::get('l')){
			Session::put('trans', Input::get('l'));
		}
		if(Session::get('trans') == "lat"){
			$text = Trans::cir2lat($text);
		}
		return html_entity_decode($text,ENT_QUOTES, "UTF-8");
	}

	public static function scriptChange(){
		if(Session::get('trans') == "lat"){
			Session::put('trans', "cir");
		}
		else Session::put('trans', "lat");
	}

	public static function curPageURL() {
		$pageURL = 'https';
		$pageURL .= "://";
		if ($_SERVER["SERVER_PORT"] != "80") {
			$pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];
		} else {
			$pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];
		}
		return $pageURL;
	}
}